(()=>{var e=document.querySelector("video"),t=document.getElementById("play").querySelector("i"),n=document.getElementById("mute"),u=n.querySelector("i"),d=(document.getElementById("time"),document.getElementById("volume")),a=document.getElementById("currentTime"),o=document.getElementById("totalTime"),i=document.getElementById("timeline"),c=document.getElementById("fullscreen").querySelector("i"),l=document.getElementById("videoContainer"),r=document.getElementById("videoControls"),m=null,s=null,v=.5;e.volume=v;var f=function(n){e.paused?e.play():e.pause(),t.classList=e.paused?"fas fa-play":"fas fa-pause"},E=function(e){return new Date(1e3*e).toISOString().substr(11,8)},y=function(){document.fullscreenElement?(document.exitFullscreen(),c.classList="fas fa-expand"):(l.requestFullscreen(),c.classList="fas fa-compress")},L=function(){return r.classList.remove("showing")};document.addEventListener("keyup",(function(e){"Space"===e.code&&e.target===document.body&&f(),"KeyF"===e.code&&e.target===document.body&&y()})),t.addEventListener("click",f),u.addEventListener("click",(function(t){e.muted?e.muted=!1:e.muted=!0,u.classList=e.muted?"fas fa-volume-mute":"fas fa-volume-up",d.value=e.muted?0:v})),d.addEventListener("input",(function(t){var u=t.target.value;e.muted&&(e.muted=!1,n.innerText="mute"),v=u,e.volume=u})),e.addEventListener("loadedmetadata",(function(){o.innerText=E(Math.floor(e.duration)),i.max=Math.floor(e.duration)})),e.addEventListener("timeupdate",(function(){a.innerText=E(Math.floor(e.currentTime)),i.value=Math.floor(e.currentTime)})),e.addEventListener("click",f),e.addEventListener("ended",(function(){var e=l.dataset.id;fetch("/api/videos/".concat(e,"/view"),{method:"POST"})})),l.addEventListener("mousemove",(function(){m&&(clearTimeout(m),m=null),s&&(clearTimeout(s),s=null),r.classList.add("showing"),s=setTimeout(L,3e3)})),l.addEventListener("mouseleave",(function(){m=setTimeout(L,3e3)})),i.addEventListener("input",(function(t){var n=t.target.value;e.currentTime=n})),c.addEventListener("click",y)})();